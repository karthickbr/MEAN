
<mat-card>
  <mat-spinner *ngIf='isLoading'></mat-spinner>

<form [formGroup]="form" (submit)="onSavePost()"  *ngIf="!isLoading">

  <mat-form-field>
    <input
    matInput type="text"
    formControlName="title"
    placeholder="Post Title" >

  <mat-error *ngIf="form.get('title').invalid">Please Enter the Post Title...</mat-error>
  </mat-form-field>

  <mat-form-field>
    <textarea
    matInput
    rows="4"
    formControlName= "content"
    placeholder="Post Content" >  </textarea>

    <mat-error *ngIf="form.get('content').invalid">Please Enter the Post Content...</mat-error>
  <!-- <button mat-raised-button color="warn">Warn</button> -->
  </mat-form-field>

  <button
   mat-raised-button
   type="submit"
   color = "primary">Save post</button>

  <span>&nbsp;</span>

  <button
    mat-raised-button
    color="primary"
    type ="button"
    [routerLink]= "['/']">Cancel</button>

  <span>&nbsp;</span>

  <!-- <div> -->
  <button mat-stroked-button
  type ="button"
  (click)="filepicker.click()">Pick Image</button>

  <input type="file" #filepicker (change)="onImagePicked($event)">
  <div class="image-preview" *ngIf= " imagePreview !=='' && imagePreview && form.get('image').valid">     <!-- not empty and not null -->
  <img [src]="imagePreview" [alt]="form.value.title">
  </div>

  <!-- </div> -->

</form>
</mat-card>

<hr>
<!-- <p>{{newPost}}</p> -->

